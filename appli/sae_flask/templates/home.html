
{% extends "base_home.html" %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css')}}">
    <!-- Link du fichier js-->
    <script src="{{ url_for('static', filename='js/button_menu.js') }}"></script>

{% endblock %}


{% block content %}
<section class="intro">
{% if user==None %}
    <h1> BIENVENUE À VOUS </h1>
{% elif user|is_escrimeur or user|is_organisateur %}
    <h1> Bonjour {{ user.get_nom() }} {{ user.get_prenom() }} </h1>
{% else %}
    <h1> Vous êtes le club {{ user.get_nom() }} </h1>
{% endif %}
    <p> Le Cercle de Blois vous offre un moyen facile et pratique de gérer vos compétitions. <br>
        Notre site va vous permettre de vous inscrire dans une competition 
        si vous êtes escrimeur, mais également de visionner les dates de matchs à venir. <br>
        Vous pourrez également visionner les résultats si vous êtes un adepte de l'escrime ! </p>
    </section>

<div class = "tableau">
    <table>
        <tr>
      
          <th>NOM COMPÉTITION </th>
          <th>LIEUX</th> 
          <th>DATE</th> 
          <th>STATUT</th> 
          <th colspan="2">ACTION</th>
        </tr>

        {% for competition in competitions %}
            <tr>
                <td> <a href="{{ url_for('competition',id_competition= competition.get_id()) }}"> {{ competition.get_nom() }}</a></td>
                <td> {{ competition.get_lieu().get_adresse() }} </td>
                <td> {{ competition.get_date() }}</td>
                <td> {{ competition.statut() }} </td>
                {% if competition.statut() == 'Inscription ouverte' %}
                <td> <a href="#"> S'INSCRIRE </a></td>
                {% else %}
                <td> Inscription terminée </td>
                {% endif %}

                {% if competition.statut() != 'En cours' and competition.statut() != 'Terminée' %}
                <td>  Pas encore de résultats </td>
                {% else %}
                <td> <a href="#"> VOIR RESULTATS </a></td>
                {% endif %}
            </tr>

        {% endfor %}
        </table>
        
</div>

{% endblock %}

